<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1" />
  <title>BOMA teaser</title>
  <style>
    :root{
      --bg1:#0f1c2e;
      --bg2:#09121f;
      --ink:#eef6ff;
      --stroke:rgba(255,255,255,.14);
      --wave1:rgba(255,255,255,.28);
      --wave2:rgba(255,255,255,.22);
      --wave3:rgba(255,255,255,.18);
    }
    html,body{height:100%;margin:0}
    body{
      min-height:100vh;
      background:radial-gradient(140% 140% at 50% 0%, var(--bg1) 0%, var(--bg2) 100%);
      color:var(--ink);
      font-family:Inter,system-ui,Arial;
      overflow:hidden;
    }

    header{position:absolute;top:0;left:0;right:0;z-index:5;display:flex;justify-content:center;padding:12px}
    .title{font-weight:900;font-size:18px;text-align:center}

    .countdown-wrap{
      position:absolute;top:38%;left:50%;transform:translateX(-50%);
      font-size:32px;font-weight:900;
      background:rgba(0,0,0,.28);
      border:1px solid var(--stroke);
      padding:6px 16px;border-radius:12px;
      backdrop-filter:blur(8px);z-index:5;
      font-variant-numeric:tabular-nums;letter-spacing:.02em;
    }
    .countdown-wrap.urgent{border-color:rgba(255,99,99,.6);color:#ff6b6b;animation:pulse 1.2s ease-in-out infinite}
    @keyframes pulse{0%{text-shadow:0 0 0 rgba(255,107,107,0)}50%{text-shadow:0 0 18px rgba(255,107,107,.65)}100%{text-shadow:0 0 0 rgba(255,107,107,0)}}

    .line{
      position:absolute;top:55%;left:50%;transform:translate(-50%,-50%);
      font-weight:900;font-size:4.2vw;
      text-align:center;line-height:1.2;max-width:90%;
      text-shadow:0 8px 24px rgba(0,0,0,.35);transition:opacity .5s;z-index:4
    }
    .line.fade{opacity:.15}

    .scene{position:absolute;inset:0;overflow:hidden;z-index:3}

    .cta{position:absolute;left:50%;bottom:20px;transform:translateX(-50%);z-index:5}
    .cta button{border:none;background:#8ad6ff;color:#041327;font-weight:900;padding:12px 18px;border-radius:12px;font-size:15px}

    #wlModal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;z-index:50}
    #wlModal .backdrop{position:absolute;inset:0;background:rgba(0,0,0,.55)}
    #wlModal .box{width:100%;max-width:460px;background:rgba(8,17,30,.96);border-top-left-radius:16px;border-top-right-radius:16px;border:1px solid var(--stroke);padding:16px;backdrop-filter:blur(8px)}
    #wlModal input[type=email]{width:100%;padding:12px;border-radius:12px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:var(--ink);font-size:15px;margin-bottom:8px}
    #wlModal label{font-size:12px;display:flex;gap:6px;align-items:flex-start;margin-bottom:8px}
    #wlModal button[type=submit]{width:100%;padding:12px;border-radius:12px;border:none;font-weight:900;font-size:15px;background:linear-gradient(90deg,#bfe8ff,#8ad6ff);color:#041327}

    .leaf{position:absolute;top:-10vh;will-change:transform,opacity;animation:fallY 12s linear forwards}
    .leaf .rot{display:inline-block;animation:spin 10s linear forwards}
    .flake{position:absolute;top:-10vh;will-change:transform,opacity;animation:fallY 14s linear forwards}
    .flakeTxt{position:absolute;top:-10vh;will-change:transform,opacity;font-size:18px;animation:fallY 14s linear forwards}

    @keyframes fallY{0%{transform:translate(var(--x,0vw),-10vh)}100%{transform:translate(calc(var(--x,0vw) + var(--drift,0px)),110vh)}}
    @keyframes spin{0%{transform:rotate(var(--r,0deg))}100%{transform:rotate(var(--rEnd,210deg))}}

    .waves{position:absolute;inset:0;z-index:1;pointer-events:none;mix-blend-mode:screen;filter:blur(.3px) hue-rotate(0deg);animation:hueCycle 40s linear infinite}
    @keyframes hueCycle{0%{filter:blur(.3px) hue-rotate(0deg)}100%{filter:blur(.3px) hue-rotate(360deg)}}

    .waves svg{position:absolute;left:0;width:260%;height:40vh}
    .waves .l1{bottom:64vh}
    .waves .l2{bottom:32vh}
    .waves .l3{bottom:0}
    .waves .move{animation-timing-function:linear;animation-iteration-count:infinite;will-change:transform}
    .waves .l1 .move{animation:slide1 22s linear infinite}
    .waves .l2 .move{animation:slide2 28s linear infinite}
    .waves .l3 .move{animation:slide3 36s linear infinite}
    @keyframes slide1{from{transform:translateX(0)}to{transform:translateX(-1200px)}}
    @keyframes slide2{from{transform:translateX(0)}to{transform:translateX(-1200px)}}
    @keyframes slide3{from{transform:translateX(0)}to{transform:translateX(-1200px)}}
  </style>
</head>
<body>
  <header><div class="title">BOMA teaser</div></header>

  <div id="countdown" class="countdown-wrap">00:00:00</div>
  <div id="line" class="line">Sei pronto? Novità in arrivo per la nuova stagione</div>

  <!-- Onde -->
  <div class="waves" aria-hidden="true">
    <svg class="l1" viewBox="0 0 1200 200"><defs><path id="w1" d="M0,120 C150,80 300,160 450,120 C600,80 750,160 900,120 C1050,80 1150,140 1200,120 L1200,200 L0,200 Z"/></defs><g class="move" fill="var(--wave1)"><use href="#w1" x="0"/><use href="#w1" x="1200"/><use href="#w1" x="2400"/></g></svg>
    <svg class="l2" viewBox="0 0 1200 200"><defs><path id="w2" d="M0,130 C140,100 320,150 480,130 C640,110 780,170 920,140 C1060,110 1160,150 1200,140 L1200,200 L0,200 Z"/></defs><g class="move" fill="var(--wave2)"><use href="#w2" x="0"/><use href="#w2" x="1200"/><use href="#w2" x="2400"/></g></svg>
    <svg class="l3" viewBox="0 0 1200 200"><defs><path id="w3" d="M0,140 C160,130 300,170 460,150 C620,130 760,180 920,160 C1080,140 1160,170 1200,165 L1200,200 L0,200 Z"/></defs><g class="move" fill="var(--wave3)"><use href="#w3" x="0"/><use href="#w3" x="1200"/><use href="#w3" x="2400"/></g></svg>
  </div>

  <div class="scene" id="scene" aria-hidden="true"></div>
  <div class="cta"><button id="ctaOpen">Entra in lista</button></div>

  <!-- Modal -->
  <div id="wlModal">
    <div class="backdrop" id="wlBackdrop"></div>
    <div class="box">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <strong>Lista d’attesa</strong>
        <button id="wlClose" style="background:none;border:none;color:var(--ink)">✕</button>
      </div>
      <form id="waitlist">
        <input id="email" name="email" type="email" placeholder="La tua email" required>
        <label><input id="consent" type="checkbox" required> Acconsento a ricevere aggiornamenti sul Boma</label>
        <button type="submit">Iscrivimi</button>
        <div style="font-size:11px;opacity:.7;margin-top:6px">Titolare: Nome Locale S.r.l. Uso: gestione lista e invio info. Puoi revocare in ogni momento.</div>
      </form>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const scene=document.getElementById('scene')
  const lineEl=document.getElementById('line')
  const cdEl=document.getElementById('countdown')
  const root=document.documentElement

  const THEMES=[
    {bg:['#1a2537','#0c1524'],palette:['#ffb703','#fb8500','#e76f51','#ffd166'],shapes:'leaves',text:'Sei pronto? Novità in arrivo per la nuova stagione'},
    {bg:['#0b1930','#0a1022'],palette:['#c2f5ff','#8ad6ff','#bfe8ff','#eaf6ff'],shapes:'flakes',text:'Respiro d’inverno. Sorprese all’orizzonte'},
    {bg:['#261c1a','#0f1216'],palette:['#d97706','#f59e0b','#b45309','#92400e'],shapes:'leavesHeavy',text:'Profumo di bosco. Pronto al cambio'},
    {bg:['#0a1724','#0a0f19'],palette:['#bbf0ff','#a5e3ff','#daefff','#9bd1ff'],shapes:'crystals',text:'Gelo creativo. Il Boma si avvicina'},
    {bg:['#1a2431','#0c121b'],palette:['#ffbe76','#ffa502','#ff7f50','#ff6b6b'],shapes:'leavesLite',text:'Ultimi colori. Nuova stagione in arrivo'},
    {bg:['#0b1a2c','#091223'],palette:['#eaf6ff','#dff2ff','#cfe9ff','#bfe0ff'],shapes:'flakesSoft',text:'Nevica piano. Preparati al lancio'},
    {bg:['#20151a','#0f1016'],palette:['#f94144','#f3722c','#f8961e','#f9844a'],shapes:'berries',text:'Dettagli che scaldano. Siamo quasi pronti'},
    {bg:['#0a1c28','#08111b'],palette:['#bde0fe','#a2d2ff','#caf0f8','#ade8f4'],shapes:'needles',text:'Aria frizzante. Nuovo capitolo in vista'},
    {bg:['#291a14','#111016'],palette:['#ffadad','#ffd6a5','#fdc086','#f4a261'],shapes:'leavesRound',text:'Ritmo che cambia. Tieniti pronto'},
    {bg:['#0b1324','#070e19'],palette:['#b8e1ff','#9bd1ff','#c9f1ff','#ffffff'],shapes:'stars',text:'Cielo terso. Magia in arrivo'},
    {bg:['#201c13','#0f1013'],palette:['#c9a227','#dda15e','#bc6c25','#e76f51'],shapes:'acorns',text:'Calore e attesa. Il momento si avvicina'},
    {bg:['#0a1526','#07101b'],palette:['#94d2ff','#7ac8ff','#b3e5ff','#e0f2ff'],shapes:'shards',text:'Scintille di ghiaccio. Ci vediamo presto'}
  ]

  const LEAF_SHAPES=[
    'M50 0 C40 18 30 24 18 30 C30 34 36 38 32 50 C44 46 50 44 50 44 C56 46 68 50 64 38 70 34 82 30 70 24 60 18 50 0 Z',
    'M50 4 C18 6 6 34 10 56 C14 74 30 90 50 96 C70 90 86 74 90 56 C94 34 82 6 50 4 Z',
    'M50 6 C36 14 28 24 26 36 C18 40 14 50 18 60 C12 68 18 80 28 84 C34 96 44 100 50 100 C56 100 66 96 72 84 C82 80 88 68 82 60 C86 50 82 40 74 36 C72 24 64 14 50 6 Z',
    'M50 8 C30 10 16 20 12 34 C22 46 36 52 50 52 C64 52 78 46 88 34 C84 20 70 10 50 8 Z'
  ]

  let currentSlot=-1,targetLeaves=40
  const pick=arr=>arr[Math.floor(Math.random()*arr.length)]
  const setBackground=(c1,c2)=>{root.style.setProperty('--bg1',c1);root.style.setProperty('--bg2',c2)}
  const setWaves=palette=>{const col=(h,a)=>`rgba(${parseInt(h.substr(1,2),16)},${parseInt(h.substr(3,2),16)},${parseInt(h.substr(5,2),16)},${a})`;root.style.setProperty('--wave1',col(palette[0]||'#fff',.34));root.style.setProperty('--wave2',col(palette[1]||'#fff',.26));root.style.setProperty('--wave3',col(palette[2]||'#fff',.22))}

  function createLeaf(palette,shapes){const leaf=document.createElement('div');leaf.className='leaf';const c1=pick(palette),c2=pick(palette),shape=pick(shapes);const size=Math.random()*22+18,startX=Math.random()*100,driftPx=Math.floor(Math.random()*140-70),dur=6+Math.random()*8;baseDeg=Math.floor(Math.random()*180);spinDeg=Math.random()>0.5?210:-210;leaf.style.setProperty('--x',startX+'vw');leaf.style.setProperty('--drift',driftPx+'px');leaf.style.setProperty('--r',baseDeg+'deg');leaf.style.setProperty('--rEnd',(baseDeg+spinDeg)+'deg');leaf.style.animationDuration=`${dur}s`;const gid='g'+Math.random().toString(36).slice(2);const rot=document.createElement('div');rot.className='rot';rot.style.animationDuration=`${dur*0.9}s`;rot.innerHTML=`<svg width="${size}" height="${size}" viewBox="0 0 100 100"><defs><linearGradient id="${gid}" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="${c1}"/><stop offset="100%" stop-color="${c2}"/></linearGradient></defs><path d="${shape}" fill="url(#${gid})"/></svg>`;leaf.appendChild(rot);leaf.addEventListener('animationend',()=>leaf.remove());return leaf}

  function createTextParticle(chars,min=12,max=22,cls='flakeTxt'){const el=document.createElement('div');el.className=cls;el.textContent=pick(chars);const startX=Math.random()*100,driftPx=Math.floor(Math.random()*100-50),dur=7+Math.random()*9;el.style.setProperty('--x',startX+'vw');el.style.setProperty('--drift',driftPx+'px');el.style.animationDuration=dur+'s';el.style.fontSize=Math.floor(Math.random()*(max-min)+min)+'px';el.addEventListener('animationend',()=>el.remove());return el}

  function updateTheme(){const now=new Date();const slot=Math.floor(now.getMinutes()/5)%12;if(slot===currentSlot)return;currentSlot=slot;const t=THEMES[slot];setBackground(t.bg[0],t.bg[1]);setWaves(t.palette);lineEl.classList.add('fade');setTimeout(()=>{lineEl.textContent=t.text;lineEl.classList.remove('fade')},260);targetLeaves=36+Math.floor(Math.random()*10);scene.querySelectorAll('.leaf,.flake,.flakeTxt').forEach(n=>n.remove());document.body.dataset.shapes=t.shapes;document.body.dataset.palette=t.palette.join(',')}

  function loop(){const shapesKey=document.body.dataset.shapes||'leaves',palette=(document.body.dataset.palette||'').split(',');const leavesNow=scene.querySelectorAll('.leaf').length,flakesNow=scene.querySelectorAll('.flake,.flakeTxt').length;if(shapesKey.startsWith('leaves')&&leavesNow<targetLeaves)scene.appendChild(createLeaf(palette,LEAF_SHAPES));if(shapesKey==='flakes'&&flakesNow<20)scene.appendChild(createTextParticle(['❄','✻','✼','✽'],16,24));if(shapesKey==='flakesSoft'&&flakesNow<26)scene.appendChild(createTextParticle(['❄','•','·','✶'],14,22));if(shapesKey==='crystals'&&flakesNow<18)scene.appendChild(createTextParticle(['❄','✶'],14,26));if(shapesKey==='stars'&&flakesNow<22)scene.appendChild(createTextParticle(['✦','✧','✩','✯'],14,20));if(shapesKey==='needles'&&flakesNow<18)scene.appendChild(createTextParticle(['|','∣','⎟'],12,18));if(shapesKey==='berries'&&flakesNow<16)scene.appendChild(createTextParticle(['●','•','◍'],10,14));if(shapesKey==='acorns'&&flakesNow<14)scene.appendChild(createTextParticle(['⬤','◐','◑'],12,18));if(shapesKey==='shards'&&flakesNow<20)scene.appendChild(createTextParticle(['▴','▵','▾','▿'],10,26));requestAnimationFrame(loop)}

  function updateCountdown(){const now=new Date(),nextMidnight=new Date();nextMidnight.setHours(24,0,0,0);const ms=nextMidnight-now,totalSec=Math.max(0,Math.floor(ms/1000)),h=Math.floor(totalSec/3600),m=Math.floor((totalSec%3600)/60),s=totalSec%60;const pad=n=>n<10?'0'+n:n;cdEl.textContent=`${pad(h)}:${pad(m)}:${pad(s)}`;if(totalSec<=600)cdEl.classList.add('urgent');else cdEl.classList.remove('urgent')}

  updateTheme();for(let i=0;i<20;i++)scene.appendChild(createLeaf(['#ffb703','#fb8500','#e76f51'],LEAF_SHAPES));loop();setInterval(updateTheme,15000);updateCountdown();setInterval(updateCountdown,1000)

  const modal=document.getElementById('wlModal');document.getElementById('ctaOpen').onclick=()=>modal.style.display='flex';document.getElementById('wlClose').onclick=()=>modal.style.display='none';document.getElementById('wlBackdrop').onclick=()=>modal.style.display='none'
})
</script>
</body>
</html>
